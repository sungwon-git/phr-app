{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/DocumentsView/Details/CompositionInfo.js\";\n\n/* eslint-disable arrow-parens */\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Box, Button, Card, CardHeader, Divider, Table, TableBody, TableCell, TableRow, Typography, Dialog, Link, makeStyles, DialogContent, DialogContentText, DialogTitle, DialogActions } from \"@material-ui/core\";\nimport Label from \"src/components/Label\";\nimport CompositionMoreButton from \"src/components/CompositionMoreButton\";\nimport ReactJson from \"react-json-view\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    fontWeightMedium: {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    actionIcon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n});\n\nfunction CompositionInfo(_ref) {\n  var _this = this;\n\n  var document = _ref.document,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, [\"document\", \"className\"]);\n\n  var classes = useStyles();\n  var title = \"Document ID : \".concat(document.id);\n  var encounterDate = moment(document.entry[0].resource.date).format(\"YYYY-MM-DD HH:mm:SS\");\n  var sections = ocument.entry[0].resource.section;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      resource = _React$useState4[0],\n      setResource = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      dialogTitle = _React$useState6[0],\n      setDialogTitle = _React$useState6[1]; // let url;\n  // let resource;\n\n\n  var handleButtonClick = React.useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var resourceInfo, resourceName, resourceId, url, getResource;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              resourceInfo = e.target.id;\n              setDialogTitle(resourceInfo);\n              console.log(1, resourceInfo);\n              resourceInfo = resourceInfo.split(\"/\");\n              resourceName = resourceInfo[0];\n              resourceId = resourceInfo[1];\n              url = \"http://localhost:4000/4_0_0/\".concat(resourceName, \"/\").concat(resourceId);\n\n              getResource = /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                  var config;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          config = {\n                            method: \"get\",\n                            url: url // headers: {\n                            //   Authorization:\n                            //     'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjAyMjAxZTA1ZjI1MzgwMDE1Zjk4MDU3IiwiaWF0IjoxNjE0MTQxMjE1LCJleHAiOjE2MTY3MzMyMTUsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjMwMDAiLCJpc3MiOiJzYW1zdW5nIG1lZGljYWwgY2VudGVyIiwic3ViIjoiYWRtaW5Ac21jLmNvbSJ9.1ykOVKtab7g9dUUCg5_tDzR4yYz-TVf3g5Giv4IHJlJXcfF8624yL9KBBnkKoKdsHBtmBO3Eu7BQ4YWSBFHK08NmV3w9Ukub5jSElTuRKggk8_HJeQ4_aqDrHvygwiEDntMiBQujUTKIapWgnz_WfVLJerPe31_xCgco7wAAdtY'\n                            // }\n\n                          };\n                          _context.next = 3;\n                          return axios(config).then(function (response) {\n                            // resource = response.data;\n                            setResource(response.data);\n                          }).catch(function (error) {\n                            console.log(error);\n                          });\n\n                        case 3:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function getResource() {\n                  return _ref3.apply(this, arguments);\n                };\n              }();\n\n              _context2.next = 10;\n              return getResource();\n\n            case 10:\n              setOpen(true);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), []); // console.log(resource);\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(Card, Object.assign({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(CardHeader, {\n    action: /*#__PURE__*/React.createElement(CompositionMoreButton, {\n      compositionid: composition.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 24\n      }\n    }),\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.fontWeightMedium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"Subject\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    id: composition.subject.reference,\n    variant: \"h6\",\n    onClick: handleButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, composition.subject.reference)), /*#__PURE__*/React.createElement(Label, {\n    color: composition.id ? \"success\" : \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 8\n    }\n  }, composition.id ? \"Success\" : \"Fail\"))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.fontWeightMedium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 8\n    }\n  }, encounterDate))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.fontWeightMedium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    id: composition.author[0].reference,\n    variant: \"h6\",\n    onClick: handleButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, composition.author[0].reference)))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.fontWeightMedium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, \"Custodian\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    id: composition.custodian.reference,\n    variant: \"h6\",\n    onClick: handleButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, composition.custodian.reference)))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.fontWeightMedium,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 8\n    }\n  }, composition.event[0].code[0].coding[0].display))), sections.map(function (section) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: section.code.coding[0].code,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: classes.fontWeightMedium,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 8\n      }\n    }, section.title), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 8\n      }\n    }, section.entry.map(function (entry) {\n      return /*#__PURE__*/React.createElement(Typography, {\n        key: entry.reference,\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        color: \"inherit\",\n        id: entry.reference,\n        variant: \"h6\",\n        onClick: handleButtonClick,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }\n      }, entry.reference));\n    })));\n  }))), /*#__PURE__*/React.createElement(Box, {\n    p: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    onClose: handleClose,\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, dialogTitle), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactJson, {\n    src: resource,\n    theme: \"monokai\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 6\n    }\n  }, \"Close\"))));\n}\n\nCompositionInfo.propTypes = {\n  className: PropTypes.string,\n  composition: PropTypes.object.isRequired\n};\nexport default CompositionInfo;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/DocumentsView/Details/CompositionInfo.js"],"names":["React","Link","RouterLink","PropTypes","clsx","axios","moment","Box","Button","Card","CardHeader","Divider","Table","TableBody","TableCell","TableRow","Typography","Dialog","makeStyles","DialogContent","DialogContentText","DialogTitle","DialogActions","Label","CompositionMoreButton","ReactJson","useStyles","theme","root","fontWeightMedium","fontWeight","typography","actionIcon","marginRight","spacing","CompositionInfo","document","className","rest","classes","title","id","encounterDate","entry","resource","date","format","sections","ocument","section","useState","open","setOpen","setResource","dialogTitle","setDialogTitle","handleButtonClick","useCallback","e","resourceInfo","target","console","log","split","resourceName","resourceId","url","getResource","config","method","then","response","data","catch","error","handleClose","composition","subject","reference","author","custodian","event","code","coding","display","map","propTypes","string","object","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable arrow-parens */\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport {\n\tBox,\n\tButton,\n\tCard,\n\tCardHeader,\n\tDivider,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableRow,\n\tTypography,\n\tDialog,\n\tLink,\n\tmakeStyles,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tDialogActions,\n} from \"@material-ui/core\";\nimport Label from \"src/components/Label\";\nimport CompositionMoreButton from \"src/components/CompositionMoreButton\";\nimport ReactJson from \"react-json-view\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {},\n\tfontWeightMedium: {\n\t\tfontWeight: theme.typography.fontWeightMedium,\n\t},\n\tactionIcon: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n}));\n\nfunction CompositionInfo({ document, className, ...rest }) {\n\tconst classes = useStyles();\n\n\tconst title = `Document ID : ${document.id}`;\n\tconst encounterDate = moment(document.entry[0].resource.date).format(\"YYYY-MM-DD HH:mm:SS\");\n\tconst sections = ocument.entry[0].resource.section;\n\n\tconst [open, setOpen] = React.useState(false);\n\tconst [resource, setResource] = React.useState();\n\tconst [dialogTitle, setDialogTitle] = React.useState();\n\t// let url;\n\t// let resource;\n\n\tconst handleButtonClick = React.useCallback(async (e) => {\n\t\tlet resourceInfo = e.target.id;\n\t\tsetDialogTitle(resourceInfo);\n\t\tconsole.log(1, resourceInfo);\n\t\tresourceInfo = resourceInfo.split(\"/\");\n\t\tconst resourceName = resourceInfo[0];\n\t\tconst resourceId = resourceInfo[1];\n\t\tconst url = `http://localhost:4000/4_0_0/${resourceName}/${resourceId}`;\n\n\t\tconst getResource = async () => {\n\t\t\tconst config = {\n\t\t\t\tmethod: \"get\",\n\t\t\t\turl,\n\t\t\t\t// headers: {\n\t\t\t\t//   Authorization:\n\t\t\t\t//     'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjAyMjAxZTA1ZjI1MzgwMDE1Zjk4MDU3IiwiaWF0IjoxNjE0MTQxMjE1LCJleHAiOjE2MTY3MzMyMTUsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjMwMDAiLCJpc3MiOiJzYW1zdW5nIG1lZGljYWwgY2VudGVyIiwic3ViIjoiYWRtaW5Ac21jLmNvbSJ9.1ykOVKtab7g9dUUCg5_tDzR4yYz-TVf3g5Giv4IHJlJXcfF8624yL9KBBnkKoKdsHBtmBO3Eu7BQ4YWSBFHK08NmV3w9Ukub5jSElTuRKggk8_HJeQ4_aqDrHvygwiEDntMiBQujUTKIapWgnz_WfVLJerPe31_xCgco7wAAdtY'\n\t\t\t\t// }\n\t\t\t};\n\n\t\t\tawait axios(config)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// resource = response.data;\n\t\t\t\t\tsetResource(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t};\n\n\t\tawait getResource();\n\t\tsetOpen(true);\n\t}, []);\n\t// console.log(resource);\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<Card className={clsx(classes.root, className)} {...rest}>\n\t\t\t<CardHeader action={<CompositionMoreButton compositionid={composition.id} />} title={title} />\n\t\t\t<Divider />\n\n\t\t\t<Table>\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell className={classes.fontWeightMedium}>Subject</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t<Link color=\"inherit\" id={composition.subject.reference} variant=\"h6\" onClick={handleButtonClick}>\n\t\t\t\t\t\t\t\t\t{composition.subject.reference}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Label color={composition.id ? \"success\" : \"error\"}>{composition.id ? \"Success\" : \"Fail\"}</Label>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell className={classes.fontWeightMedium}>Date</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t{encounterDate}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell className={classes.fontWeightMedium}>Author</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t<Link color=\"inherit\" id={composition.author[0].reference} variant=\"h6\" onClick={handleButtonClick}>\n\t\t\t\t\t\t\t\t\t{composition.author[0].reference}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t{/* <TableRow>\n            <TableCell className={classes.fontWeightMedium}>Attester</TableCell>\n            <TableCell>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {composition.attester[0].party.reference}\n              </Typography>\n            </TableCell>\n          </TableRow> */}\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell className={classes.fontWeightMedium}>Custodian</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t<Link color=\"inherit\" id={composition.custodian.reference} variant=\"h6\" onClick={handleButtonClick}>\n\t\t\t\t\t\t\t\t\t{composition.custodian.reference}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell className={classes.fontWeightMedium}>Type</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t{composition.event[0].code[0].coding[0].display}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t{sections.map((section) => (\n\t\t\t\t\t\t<TableRow key={section.code.coding[0].code}>\n\t\t\t\t\t\t\t<TableCell className={classes.fontWeightMedium}>{section.title}</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t{section.entry.map((entry) => (\n\t\t\t\t\t\t\t\t\t<Typography key={entry.reference} variant=\"body2\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t<Link color=\"inherit\" id={entry.reference} variant=\"h6\" onClick={handleButtonClick}>\n\t\t\t\t\t\t\t\t\t\t\t{entry.reference}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t\t<Box p={1} display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\n\t\t\t\t{/* <Button>\n          <GetAppIcon className={classes.actionIcon} />\n          Show Document\n        </Button> */}\n\t\t\t</Box>\n\t\t\t<Dialog onClose={handleClose} open={open}>\n\t\t\t\t<DialogTitle>{dialogTitle}</DialogTitle>\n\t\t\t\t<Divider />\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<ReactJson src={resource} theme=\"monokai\" />\n\t\t\t\t\t{/* <DialogContentText> {resource} </DialogContentText> */}\n\t\t\t\t</DialogContent>\n\t\t\t\t<Divider />\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose}>Close</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</Card>\n\t);\n}\n\nCompositionInfo.propTypes = {\n\tclassName: PropTypes.string,\n\tcomposition: PropTypes.object.isRequired,\n};\n\nexport default CompositionInfo;\n"]},"metadata":{},"sourceType":"module"}