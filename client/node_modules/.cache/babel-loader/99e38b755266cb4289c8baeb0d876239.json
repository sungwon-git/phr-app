{"ast":null,"code":"import _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/EarningsSegmentation/index.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { Box, Card, CardHeader, Divider, Typography, makeStyles } from \"@material-ui/core\";\nimport GenericMoreButton from \"src/components/GenericMoreButton\";\nimport axios from \"src/utils/axios\";\nimport useIsMountedRef from \"src/hooks/useIsMountedRef\";\nimport Chart from \"./Chart\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    item: {\n      textAlign: \"center\",\n      flexGrow: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      padding: theme.spacing(3, 2),\n      \"&:not(:last-of-type)\": {\n        borderRight: \"1px solid \".concat(theme.palette.divider)\n      }\n    }\n  };\n});\n\nfunction EarningsSegmentation(_ref) {\n  var _this = this;\n\n  var className = _ref.className,\n      rest = _objectWithoutProperties(_ref, [\"className\"]);\n\n  var classes = useStyles();\n  var isMountedRef = useIsMountedRef();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      earnings = _useState2[0],\n      setEarnings = _useState2[1];\n\n  var getEarnings = useCallback(function () {\n    axios.get(\"/api/reports/earnings\").then(function (response) {\n      if (isMountedRef.current) {\n        setEarnings(response.data.earnings);\n      }\n    });\n  }, [isMountedRef]);\n  useEffect(function () {\n    getEarnings();\n  }, [getEarnings]);\n\n  if (!earnings) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Card, Object.assign({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(CardHeader, {\n    action: /*#__PURE__*/React.createElement(GenericMoreButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 24\n      }\n    }),\n    title: \"Earnings Segmentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: 3,\n    position: \"relative\",\n    minHeight: 320,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Chart, {\n    data: earnings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }, earnings.labels.map(function (label, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: label,\n      className: classes.item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      color: \"textPrimary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, earnings.datasets[0].data[i], \"%\"), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"overline\",\n      color: \"textSecondary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, label));\n  })));\n}\n\nEarningsSegmentation.propTypes = {\n  className: PropTypes.string\n};\nexport default EarningsSegmentation;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/EarningsSegmentation/index.js"],"names":["React","useState","useEffect","useCallback","PropTypes","clsx","Box","Card","CardHeader","Divider","Typography","makeStyles","GenericMoreButton","axios","useIsMountedRef","Chart","useStyles","theme","root","item","textAlign","flexGrow","display","flexDirection","justifyContent","padding","spacing","borderRight","palette","divider","EarningsSegmentation","className","rest","classes","isMountedRef","earnings","setEarnings","getEarnings","get","then","response","current","data","labels","map","label","i","datasets","propTypes","string"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { Box, Card, CardHeader, Divider, Typography, makeStyles } from \"@material-ui/core\";\nimport GenericMoreButton from \"src/components/GenericMoreButton\";\nimport axios from \"src/utils/axios\";\nimport useIsMountedRef from \"src/hooks/useIsMountedRef\";\nimport Chart from \"./Chart\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {},\n\titem: {\n\t\ttextAlign: \"center\",\n\t\tflexGrow: 1,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: theme.spacing(3, 2),\n\t\t\"&:not(:last-of-type)\": {\n\t\t\tborderRight: `1px solid ${theme.palette.divider}`,\n\t\t},\n\t},\n}));\n\nfunction EarningsSegmentation({ className, ...rest }) {\n\tconst classes = useStyles();\n\tconst isMountedRef = useIsMountedRef();\n\tconst [earnings, setEarnings] = useState(null);\n\n\tconst getEarnings = useCallback(() => {\n\t\taxios.get(\"/api/reports/earnings\").then((response) => {\n\t\t\tif (isMountedRef.current) {\n\t\t\t\tsetEarnings(response.data.earnings);\n\t\t\t}\n\t\t});\n\t}, [isMountedRef]);\n\n\tuseEffect(() => {\n\t\tgetEarnings();\n\t}, [getEarnings]);\n\n\tif (!earnings) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Card className={clsx(classes.root, className)} {...rest}>\n\t\t\t<CardHeader action={<GenericMoreButton />} title=\"Earnings Segmentation\" />\n\t\t\t<Divider />\n\t\t\t<Box p={3} position=\"relative\" minHeight={320}>\n\t\t\t\t<Chart data={earnings} />\n\t\t\t</Box>\n\t\t\t<Divider />\n\t\t\t<Box display=\"flex\">\n\t\t\t\t{earnings.labels.map((label, i) => (\n\t\t\t\t\t<div key={label} className={classes.item}>\n\t\t\t\t\t\t<Typography variant=\"h4\" color=\"textPrimary\">\n\t\t\t\t\t\t\t{earnings.datasets[0].data[i]}%\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"overline\" color=\"textSecondary\">\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</Box>\n\t\t</Card>\n\t);\n}\n\nEarningsSegmentation.propTypes = {\n\tclassName: PropTypes.string,\n};\n\nexport default EarningsSegmentation;\n"]},"metadata":{},"sourceType":"module"}