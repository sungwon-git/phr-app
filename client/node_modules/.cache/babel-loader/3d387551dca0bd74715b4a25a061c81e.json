{"ast":null,"code":"import _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/layouts/DashboardLayout/TopBar/Notifications.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Avatar, Box, Button, IconButton, List, ListItem, ListItemAvatar, ListItemText, Popover, SvgIcon, Tooltip, Typography, makeStyles } from '@material-ui/core';\nimport { Bell as BellIcon, Package as PackageIcon, MessageCircle as MessageIcon, Truck as TruckIcon } from 'react-feather';\nimport { getNotifications } from 'src/actions/notificationsActions';\nvar iconsMap = {\n  order_placed: PackageIcon,\n  new_message: MessageIcon,\n  item_shipped: TruckIcon\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    popover: {\n      width: 320\n    },\n    icon: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    }\n  };\n});\n\nfunction Notifications() {\n  var _this = this;\n\n  var classes = useStyles();\n  var notifications = useSelector(function (state) {\n    return state.notifications.notifications;\n  });\n  var ref = useRef(null);\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  useEffect(function () {\n    dispatch(getNotifications());\n  }, [dispatch]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Notifications\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    ref: ref,\n    onClick: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BellIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Popover, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    classes: {\n      paper: classes.popover\n    },\n    anchorEl: ref.current,\n    onClose: handleClose,\n    open: isOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Notifications\")), notifications.length === 0 ? /*#__PURE__*/React.createElement(Box, {\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"There are no notifications\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(List, {\n    className: classes.list,\n    disablePadding: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, notifications.map(function (notification) {\n    var Icon = iconsMap[notification.type];\n    return /*#__PURE__*/React.createElement(ListItem, {\n      className: classes.listItem,\n      component: RouterLink,\n      divider: true,\n      key: notification.id,\n      to: \"#\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.icon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(SvgIcon, {\n      fontSize: \"small\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 27\n      }\n    })))), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: notification.title,\n      primaryTypographyProps: {\n        variant: 'subtitle2',\n        color: 'textPrimary'\n      },\n      secondary: notification.description,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(Box, {\n    p: 1,\n    display: \"flex\",\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    component: RouterLink,\n    size: \"small\",\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, \"Mark all as read\")))));\n}\n\nexport default Notifications;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/layouts/DashboardLayout/TopBar/Notifications.js"],"names":["React","useRef","useState","useEffect","Link","RouterLink","useDispatch","useSelector","Avatar","Box","Button","IconButton","List","ListItem","ListItemAvatar","ListItemText","Popover","SvgIcon","Tooltip","Typography","makeStyles","Bell","BellIcon","Package","PackageIcon","MessageCircle","MessageIcon","Truck","TruckIcon","getNotifications","iconsMap","order_placed","new_message","item_shipped","useStyles","theme","popover","width","icon","backgroundColor","palette","secondary","main","color","contrastText","Notifications","classes","notifications","state","ref","dispatch","isOpen","setOpen","handleOpen","handleClose","vertical","horizontal","paper","current","length","list","map","notification","Icon","type","listItem","id","title","variant","description"],"mappings":";;AAAA,OAAOA,KAAP,IACEC,MADF,EAEEC,QAFF,EAGEC,SAHF,QAIO,OAJP;AAKA,SAASC,IAAI,IAAIC,UAAjB,QAAmC,kBAAnC;AACA,SACEC,WADF,EAEEC,WAFF,QAGO,aAHP;AAIA,SACEC,MADF,EAEEC,GAFF,EAGEC,MAHF,EAIEC,UAJF,EAKEC,IALF,EAMEC,QANF,EAOEC,cAPF,EAQEC,YARF,EASEC,OATF,EAUEC,OAVF,EAWEC,OAXF,EAYEC,UAZF,EAaEC,UAbF,QAcO,mBAdP;AAeA,SACEC,IAAI,IAAIC,QADV,EAEEC,OAAO,IAAIC,WAFb,EAGEC,aAAa,IAAIC,WAHnB,EAIEC,KAAK,IAAIC,SAJX,QAKO,eALP;AAMA,SAASC,gBAAT,QAAiC,kCAAjC;AAEA,IAAMC,QAAQ,GAAG;AACfC,EAAAA,YAAY,EAAEP,WADC;AAEfQ,EAAAA,WAAW,EAAEN,WAFE;AAGfO,EAAAA,YAAY,EAAEL;AAHC,CAAjB;AAMA,IAAMM,SAAS,GAAGd,UAAU,CAAC,UAACe,KAAD;AAAA,SAAY;AACvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE;AADA,KAD8B;AAIvCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,eAAe,EAAEJ,KAAK,CAACK,OAAN,CAAcC,SAAd,CAAwBC,IADrC;AAEJC,MAAAA,KAAK,EAAER,KAAK,CAACK,OAAN,CAAcC,SAAd,CAAwBG;AAF3B;AAJiC,GAAZ;AAAA,CAAD,CAA5B;;AAUA,SAASC,aAAT,GAAyB;AAAA;;AACvB,MAAMC,OAAO,GAAGZ,SAAS,EAAzB;AACA,MAAMa,aAAa,GAAGxC,WAAW,CAAC,UAACyC,KAAD;AAAA,WAAWA,KAAK,CAACD,aAAN,CAAoBA,aAA/B;AAAA,GAAD,CAAjC;AACA,MAAME,GAAG,GAAGhD,MAAM,CAAC,IAAD,CAAlB;AACA,MAAMiD,QAAQ,GAAG5C,WAAW,EAA5B;;AACA,kBAA0BJ,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAOiD,MAAP;AAAA,MAAeC,OAAf;;AAEA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAIAjD,EAAAA,SAAS,CAAC,YAAM;AACd+C,IAAAA,QAAQ,CAACrB,gBAAgB,EAAjB,CAAR;AACD,GAFQ,EAEN,CAACqB,QAAD,CAFM,CAAT;AAIA,sBACE,uDACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,GAAG,EAAED,GAFP;AAGE,IAAA,OAAO,EAAEI,UAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,CADF,CADF,eAYE,oBAAC,OAAD;AACE,IAAA,YAAY,EAAE;AACZE,MAAAA,QAAQ,EAAE,QADE;AAEZC,MAAAA,UAAU,EAAE;AAFA,KADhB;AAKE,IAAA,OAAO,EAAE;AAAEC,MAAAA,KAAK,EAAEX,OAAO,CAACV;AAAjB,KALX;AAME,IAAA,QAAQ,EAAEa,GAAG,CAACS,OANhB;AAOE,IAAA,OAAO,EAAEJ,WAPX;AAQE,IAAA,IAAI,EAAEH,MARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,IADV;AAEE,IAAA,KAAK,EAAC,aAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CAVF,EAkBGJ,aAAa,CAACY,MAAd,KAAyB,CAAzB,gBACC,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,IADV;AAEE,IAAA,KAAK,EAAC,aAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,CADD,gBAUC,uDACE,oBAAC,IAAD;AACE,IAAA,SAAS,EAAEb,OAAO,CAACc,IADrB;AAEE,IAAA,cAAc,MAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGb,aAAa,CAACc,GAAd,CAAkB,UAACC,YAAD,EAAkB;AACnC,QAAMC,IAAI,GAAGjC,QAAQ,CAACgC,YAAY,CAACE,IAAd,CAArB;AAEA,wBACE,oBAAC,QAAD;AACE,MAAA,SAAS,EAAElB,OAAO,CAACmB,QADrB;AAEE,MAAA,SAAS,EAAE5D,UAFb;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,GAAG,EAAEyD,YAAY,CAACI,EAJpB;AAKE,MAAA,EAAE,EAAC,GALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAEpB,OAAO,CAACR,IADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGE,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAHF,CADF,CAPF,eAgBE,oBAAC,YAAD;AACE,MAAA,OAAO,EAAEwB,YAAY,CAACK,KADxB;AAEE,MAAA,sBAAsB,EAAE;AAAEC,QAAAA,OAAO,EAAE,WAAX;AAAwBzB,QAAAA,KAAK,EAAE;AAA/B,OAF1B;AAGE,MAAA,SAAS,EAAEmB,YAAY,CAACO,WAH1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,CADF;AAwBD,GA3BA,CAJH,CADF,eAkCE,oBAAC,GAAD;AACE,IAAA,CAAC,EAAE,CADL;AAEE,IAAA,OAAO,EAAC,MAFV;AAGE,IAAA,cAAc,EAAC,QAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAEhE,UADb;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,EAAE,EAAC,GAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,CAlCF,CA5BJ,CAZF,CADF;AA6FD;;AAED,eAAewC,aAAf","sourcesContent":["import React, {\n  useRef,\n  useState,\n  useEffect\n} from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n  useDispatch,\n  useSelector\n} from 'react-redux';\nimport {\n  Avatar,\n  Box,\n  Button,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Popover,\n  SvgIcon,\n  Tooltip,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport {\n  Bell as BellIcon,\n  Package as PackageIcon,\n  MessageCircle as MessageIcon,\n  Truck as TruckIcon\n} from 'react-feather';\nimport { getNotifications } from 'src/actions/notificationsActions';\n\nconst iconsMap = {\n  order_placed: PackageIcon,\n  new_message: MessageIcon,\n  item_shipped: TruckIcon\n};\n\nconst useStyles = makeStyles((theme) => ({\n  popover: {\n    width: 320\n  },\n  icon: {\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.contrastText\n  }\n}));\n\nfunction Notifications() {\n  const classes = useStyles();\n  const notifications = useSelector((state) => state.notifications.notifications);\n  const ref = useRef(null);\n  const dispatch = useDispatch();\n  const [isOpen, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    dispatch(getNotifications());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Tooltip title=\"Notifications\">\n        <IconButton\n          color=\"inherit\"\n          ref={ref}\n          onClick={handleOpen}\n        >\n          <SvgIcon>\n            <BellIcon />\n          </SvgIcon>\n        </IconButton>\n      </Tooltip>\n      <Popover\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center'\n        }}\n        classes={{ paper: classes.popover }}\n        anchorEl={ref.current}\n        onClose={handleClose}\n        open={isOpen}\n      >\n        <Box p={2}>\n          <Typography\n            variant=\"h5\"\n            color=\"textPrimary\"\n          >\n            Notifications\n          </Typography>\n        </Box>\n        {notifications.length === 0 ? (\n          <Box p={2}>\n            <Typography\n              variant=\"h6\"\n              color=\"textPrimary\"\n            >\n              There are no notifications\n            </Typography>\n          </Box>\n        ) : (\n          <>\n            <List\n              className={classes.list}\n              disablePadding\n            >\n              {notifications.map((notification) => {\n                const Icon = iconsMap[notification.type];\n\n                return (\n                  <ListItem\n                    className={classes.listItem}\n                    component={RouterLink}\n                    divider\n                    key={notification.id}\n                    to=\"#\"\n                  >\n                    <ListItemAvatar>\n                      <Avatar\n                        className={classes.icon}\n                      >\n                        <SvgIcon fontSize=\"small\">\n                          <Icon />\n                        </SvgIcon>\n                      </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                      primary={notification.title}\n                      primaryTypographyProps={{ variant: 'subtitle2', color: 'textPrimary' }}\n                      secondary={notification.description}\n                    />\n                  </ListItem>\n                );\n              })}\n            </List>\n            <Box\n              p={1}\n              display=\"flex\"\n              justifyContent=\"center\"\n            >\n              <Button\n                component={RouterLink}\n                size=\"small\"\n                to=\"#\"\n              >\n                Mark all as read\n              </Button>\n            </Box>\n          </>\n        )}\n      </Popover>\n    </>\n  );\n}\n\nexport default Notifications;\n"]},"metadata":{},"sourceType":"module"}