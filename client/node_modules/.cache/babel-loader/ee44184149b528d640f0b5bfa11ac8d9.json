{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/index.js\";\nimport React, { useCallback, useState, useEffect } from \"react\";\nimport { Container, Grid, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/components/Page\"; // import CustomerActivity from \"./CustomerActivity\";\n\nimport EarningsSegmentation from \"./EarningsSegmentation\";\nimport FinancialStats from \"./FinancialStats\";\nimport Header from \"./Header\";\nimport LatestOrders from \"./LatestOrders\";\nimport axios from \"src/utils/axios\";\nimport Axios from \"axios\";\nimport useIsMountedRef from \"src/hooks/useIsMountedRef\";\nimport Overview from \"./Overview\";\nimport RoiPerCustomer from \"./RoiPerCustomer\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.background.dark,\n      minHeight: \"100%\",\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3)\n    },\n    container: _defineProperty({}, theme.breakpoints.up(\"lg\"), {\n      paddingLeft: 64,\n      paddingRight: 64\n    })\n  };\n});\n\nfunction Records() {\n  var classes = useStyles();\n  var isMountedRef = useIsMountedRef(); // const [organizations, setOrganizations] = useState([]);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      organization = _useState2[0],\n      setOrganization = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      documents = _useState4[0],\n      setDocuments = _useState4[1];\n\n  var userID = \"113610\";\n  var organizationID = \"4578\";\n  var getOrganization = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Axios.get(\"http://localhost:3100/organization/4578\").then(function (response) {\n              if (isMountedRef.current) {\n                // console.log(0, response.data.organization);\n                setOrganization(response.data.organization);\n              }\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [isMountedRef]);\n  var getDocuments = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n    return _regeneratorRuntime.wrap(function _callee5$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return Axios.get(\"http://localhost:4000/4_0_0/Composition/$documents/113610\").then( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(response) {\n                return _regeneratorRuntime.wrap(function _callee4$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (!isMountedRef.current) {\n                          _context5.next = 2;\n                          break;\n                        }\n\n                        return _context5.delegateYield( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                          var documents, _loop, i;\n\n                          return _regeneratorRuntime.wrap(function _callee3$(_context4) {\n                            while (1) {\n                              switch (_context4.prev = _context4.next) {\n                                case 0:\n                                  // console.log(response.data);\n                                  documents = response.data;\n                                  setDocuments(documents); // console.log(documents);\n\n                                  _loop = /*#__PURE__*/_regeneratorRuntime.mark(function _loop(i) {\n                                    var phr_server, data, phr_config;\n                                    return _regeneratorRuntime.wrap(function _loop$(_context3) {\n                                      while (1) {\n                                        switch (_context3.prev = _context3.next) {\n                                          case 0:\n                                            // console.log(document.id);\n                                            phr_server = \"http://localhost:3100\";\n                                            data = {\n                                              documentID: documents[i].id,\n                                              userID: userID,\n                                              organizationID: organizationID\n                                            };\n                                            phr_config = {\n                                              method: \"post\",\n                                              url: \"\".concat(phr_server, \"/document\"),\n                                              data: data\n                                            }; // console.log(i);\n\n                                            _context3.next = 5;\n                                            return Axios(phr_config).then( /*#__PURE__*/function () {\n                                              var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(phr_response) {\n                                                var insert_data, insert_config;\n                                                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                                  while (1) {\n                                                    switch (_context2.prev = _context2.next) {\n                                                      case 0:\n                                                        if (!(phr_response.data.document.length < 1)) {\n                                                          _context2.next = 5;\n                                                          break;\n                                                        }\n\n                                                        insert_data = {\n                                                          documentID: documents[i].id,\n                                                          userID: userID,\n                                                          organizationID: organizationID,\n                                                          document: documents[i],\n                                                          isTransfer: false\n                                                        };\n                                                        insert_config = {\n                                                          method: \"post\",\n                                                          url: \"\".concat(phr_server, \"/documents/insert\"),\n                                                          data: insert_data\n                                                        }; // console.log(insert_data, insert_config);\n\n                                                        _context2.next = 5;\n                                                        return Axios(insert_config).then(function (insert_response) {\n                                                          console.log(insert_response.data);\n                                                        });\n\n                                                      case 5:\n                                                      case \"end\":\n                                                        return _context2.stop();\n                                                    }\n                                                  }\n                                                }, _callee2);\n                                              }));\n\n                                              return function (_x2) {\n                                                return _ref4.apply(this, arguments);\n                                              };\n                                            }()).catch(function (err) {\n                                              console.log(err);\n                                            });\n\n                                          case 5:\n                                          case \"end\":\n                                            return _context3.stop();\n                                        }\n                                      }\n                                    }, _loop);\n                                  });\n                                  i = 0;\n\n                                case 4:\n                                  if (!(i < documents.length)) {\n                                    _context4.next = 9;\n                                    break;\n                                  }\n\n                                  return _context4.delegateYield(_loop(i), \"t0\", 6);\n\n                                case 6:\n                                  i++;\n                                  _context4.next = 4;\n                                  break;\n\n                                case 9:\n                                case \"end\":\n                                  return _context4.stop();\n                              }\n                            }\n                          }, _callee3);\n                        })(), \"t0\", 2);\n\n                      case 2:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee4);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }());\n\n          case 2:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee5);\n  })), [isMountedRef]);\n  useEffect(function () {\n    getOrganization();\n    getDocuments();\n  }, [getOrganization, getDocuments]); // console.log(1, organization);\n\n  return /*#__PURE__*/React.createElement(Page, {\n    className: classes.root,\n    title: \"Dashboard Alternative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: false,\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    key: organization.id,\n    lg: 3,\n    sm: 6,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Overview, {\n    count: documents.length,\n    name: organization.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 3,\n    sm: 6,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(RoiPerCustomer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 8,\n    xl: 9,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(FinancialStats, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 4,\n    xl: 3,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(EarningsSegmentation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 8,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(LatestOrders, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  })))));\n}\n\nexport default Records;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/index.js"],"names":["React","useCallback","useState","useEffect","Container","Grid","makeStyles","Page","EarningsSegmentation","FinancialStats","Header","LatestOrders","axios","Axios","useIsMountedRef","Overview","RoiPerCustomer","useStyles","theme","root","backgroundColor","palette","background","dark","minHeight","paddingTop","spacing","paddingBottom","container","breakpoints","up","paddingLeft","paddingRight","Records","classes","isMountedRef","organization","setOrganization","documents","setDocuments","userID","organizationID","getOrganization","get","then","response","current","data","getDocuments","i","phr_server","documentID","id","phr_config","method","url","phr_response","document","length","insert_data","isTransfer","insert_config","insert_response","console","log","catch","err","title"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\nimport { Container, Grid, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/components/Page\";\n// import CustomerActivity from \"./CustomerActivity\";\nimport EarningsSegmentation from \"./EarningsSegmentation\";\nimport FinancialStats from \"./FinancialStats\";\nimport Header from \"./Header\";\nimport LatestOrders from \"./LatestOrders\";\nimport axios from \"src/utils/axios\";\nimport Axios from \"axios\";\nimport useIsMountedRef from \"src/hooks/useIsMountedRef\";\nimport Overview from \"./Overview\";\n\nimport RoiPerCustomer from \"./RoiPerCustomer\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tbackgroundColor: theme.palette.background.dark,\n\t\tminHeight: \"100%\",\n\t\tpaddingTop: theme.spacing(3),\n\t\tpaddingBottom: theme.spacing(3),\n\t},\n\tcontainer: {\n\t\t[theme.breakpoints.up(\"lg\")]: {\n\t\t\tpaddingLeft: 64,\n\t\t\tpaddingRight: 64,\n\t\t},\n\t},\n}));\n\nfunction Records() {\n\tconst classes = useStyles();\n\tconst isMountedRef = useIsMountedRef();\n\t// const [organizations, setOrganizations] = useState([]);\n\tconst [organization, setOrganization] = useState([]);\n\tconst [documents, setDocuments] = useState([]);\n\tconst userID = \"113610\";\n\tconst organizationID = \"4578\";\n\n\tconst getOrganization = useCallback(async () => {\n\t\tawait Axios.get(\"http://localhost:3100/organization/4578\").then((response) => {\n\t\t\tif (isMountedRef.current) {\n\t\t\t\t// console.log(0, response.data.organization);\n\t\t\t\tsetOrganization(response.data.organization);\n\t\t\t}\n\t\t});\n\t}, [isMountedRef]);\n\n\tconst getDocuments = useCallback(async () => {\n\t\tawait Axios.get(\"http://localhost:4000/4_0_0/Composition/$documents/113610\").then(async (response) => {\n\t\t\tif (isMountedRef.current) {\n\t\t\t\t// console.log(response.data);\n\t\t\t\tconst documents = response.data;\n\t\t\t\tsetDocuments(documents);\n\t\t\t\t// console.log(documents);\n\t\t\t\tfor (let i = 0; i < documents.length; i++) {\n\t\t\t\t\t// console.log(document.id);\n\t\t\t\t\tconst phr_server = \"http://localhost:3100\";\n\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tdocumentID: documents[i].id,\n\t\t\t\t\t\tuserID: userID,\n\t\t\t\t\t\torganizationID: organizationID,\n\t\t\t\t\t};\n\n\t\t\t\t\tlet phr_config = {\n\t\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\t\turl: `${phr_server}/document`,\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t};\n\t\t\t\t\t// console.log(i);\n\t\t\t\t\tawait Axios(phr_config)\n\t\t\t\t\t\t.then(async (phr_response) => {\n\t\t\t\t\t\t\t// console.log(phr_response);\n\t\t\t\t\t\t\t// console.log(phr_response.data.document.length);\n\t\t\t\t\t\t\tif (phr_response.data.document.length < 1) {\n\t\t\t\t\t\t\t\tconst insert_data = {\n\t\t\t\t\t\t\t\t\tdocumentID: documents[i].id,\n\t\t\t\t\t\t\t\t\tuserID: userID,\n\t\t\t\t\t\t\t\t\torganizationID: organizationID,\n\t\t\t\t\t\t\t\t\tdocument: documents[i],\n\t\t\t\t\t\t\t\t\tisTransfer: false,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tconst insert_config = {\n\t\t\t\t\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\t\t\t\t\turl: `${phr_server}/documents/insert`,\n\t\t\t\t\t\t\t\t\tdata: insert_data,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t// console.log(insert_data, insert_config);\n\n\t\t\t\t\t\t\t\tawait Axios(insert_config).then((insert_response) => {\n\t\t\t\t\t\t\t\t\tconsole.log(insert_response.data);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}, [isMountedRef]);\n\n\tuseEffect(() => {\n\t\tgetOrganization();\n\t\tgetDocuments();\n\t}, [getOrganization, getDocuments]);\n\n\t// console.log(1, organization);\n\n\treturn (\n\t\t<Page className={classes.root} title=\"Dashboard Alternative\">\n\t\t\t<Container maxWidth={false} className={classes.container}>\n\t\t\t\t<Header />\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item key={organization.id} lg={3} sm={6} xs={12}>\n\t\t\t\t\t\t<Overview count={documents.length} name={organization.title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item lg={3} sm={6} xs={12}>\n\t\t\t\t\t\t<RoiPerCustomer />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item lg={8} xl={9} xs={12}>\n\t\t\t\t\t\t<FinancialStats />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={4} xl={3} xs={12}>\n\t\t\t\t\t\t<EarningsSegmentation />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={8} xs={12}>\n\t\t\t\t\t\t<LatestOrders />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{/* <Grid item lg={4} xs={12}>\n\t\t\t\t\t\t<CustomerActivity />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={8} xs={12}>\n\t\t\t\t\t\t<MostProfitableProducts />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={4} xs={12}>\n\t\t\t\t\t\t<TopReferrals />\n\t\t\t\t\t</Grid> */}\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</Page>\n\t);\n}\n\nexport default Records;\n"]},"metadata":{},"sourceType":"module"}