{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/layouts/DashboardLayout/TopBar/Account.js\";\nimport React, { useRef, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSnackbar } from \"notistack\";\nimport { Avatar, Box, ButtonBase, Hidden, Menu, MenuItem, Typography, makeStyles } from \"@material-ui/core\";\nimport { logout } from \"src/actions/accountActions\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    avatar: {\n      height: 32,\n      width: 32,\n      marginRight: theme.spacing(1)\n    },\n    popover: {\n      width: 200\n    }\n  };\n});\n\nfunction Account() {\n  var classes = useStyles();\n  var history = useHistory();\n  var ref = useRef(null);\n  var dispatch = useDispatch();\n  var account = useSelector(function (state) {\n    return state.account;\n  });\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n\n  console.log(\"dashboardlayout\", account);\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleLogout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              handleClose();\n              _context.next = 4;\n              return dispatch(logout());\n\n            case 4:\n              history.push(\"/\");\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              enqueueSnackbar(\"Unable to logout\", {\n                variant: \"error\"\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function handleLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    component: ButtonBase,\n    onClick: handleOpen,\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"User\",\n    className: classes.avatar,\n    src: account.user.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, \"\".concat(account.user.name)))), /*#__PURE__*/React.createElement(Menu, {\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"center\"\n    },\n    keepMounted: true,\n    PaperProps: {\n      className: classes.popover\n    },\n    getContentAnchorEl: null,\n    anchorEl: ref.current,\n    open: isOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, \"Logout\")));\n}\n\nexport default Account;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/layouts/DashboardLayout/TopBar/Account.js"],"names":["React","useRef","useState","Link","RouterLink","useHistory","useDispatch","useSelector","useSnackbar","Avatar","Box","ButtonBase","Hidden","Menu","MenuItem","Typography","makeStyles","logout","useStyles","theme","avatar","height","width","marginRight","spacing","popover","Account","classes","history","ref","dispatch","account","state","enqueueSnackbar","isOpen","setOpen","console","log","handleOpen","handleClose","handleLogout","push","variant","user","name","vertical","horizontal","className","current"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSnackbar } from \"notistack\";\nimport { Avatar, Box, ButtonBase, Hidden, Menu, MenuItem, Typography, makeStyles } from \"@material-ui/core\";\nimport { logout } from \"src/actions/accountActions\";\n\nconst useStyles = makeStyles((theme) => ({\n\tavatar: {\n\t\theight: 32,\n\t\twidth: 32,\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tpopover: {\n\t\twidth: 200,\n\t},\n}));\n\nfunction Account() {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst ref = useRef(null);\n\tconst dispatch = useDispatch();\n\tconst account = useSelector((state) => state.account);\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst [isOpen, setOpen] = useState(false);\n\n\tconsole.log(\"dashboardlayout\", account);\n\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\tconst handleLogout = async () => {\n\t\ttry {\n\t\t\thandleClose();\n\t\t\tawait dispatch(logout());\n\t\t\thistory.push(\"/\");\n\t\t} catch (error) {\n\t\t\tenqueueSnackbar(\"Unable to logout\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Box display=\"flex\" alignItems=\"center\" component={ButtonBase} onClick={handleOpen} ref={ref}>\n\t\t\t\t<Avatar alt=\"User\" className={classes.avatar} src={account.user.avatar} />\n\t\t\t\t<Hidden smDown>\n\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\n\t\t\t\t\t\t{`${account.user.name}`}\n\t\t\t\t\t\t{/* {`${account.user.firstName} ${account.user.lastName}`} */}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Hidden>\n\t\t\t</Box>\n\t\t\t<Menu\n\t\t\t\tonClose={handleClose}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\tPaperProps={{ className: classes.popover }}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorEl={ref.current}\n\t\t\t\topen={isOpen}\n\t\t\t>\n\t\t\t\t{/* <MenuItem component={RouterLink} to=\"/app/social/profile\">\n\t\t\t\t\tProfile\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem component={RouterLink} to=\"/app/account\">\n\t\t\t\t\tAccount\n\t\t\t\t</MenuItem> */}\n\t\t\t\t<MenuItem onClick={handleLogout}>Logout</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n}\n\nexport default Account;\n"]},"metadata":{},"sourceType":"module"}