{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _readOnlyError from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\nimport _defineProperty from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/index.js\";\nimport React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container, Grid, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/components/Page\"; // import CustomerActivity from \"./CustomerActivity\";\n\nimport DocumentsSegmentation from \"./DocumentSegmentation\";\nimport DocumentStats from \"./DocumentStats\";\nimport Header from \"./Header\";\nimport Documents from \"./Documents\"; // import LatestOrders from \"./LatestOrders\";\n// import axios from \"src/utils/axios\";\n\nimport Axios from \"axios\";\nimport useIsMountedRef from \"src/hooks/useIsMountedRef\";\nimport Overview from \"./Overview\";\nimport TotalDocuments from \"./TotalDocuments\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.background.dark,\n      minHeight: \"100%\",\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3)\n    },\n    container: _defineProperty({}, theme.breakpoints.up(\"lg\"), {\n      paddingLeft: 64,\n      paddingRight: 64\n    })\n  };\n});\n\nfunction Records() {\n  var classes = useStyles();\n  var dispatch = useDispatch();\n  var isMountedRef = useIsMountedRef();\n  var organizations = useSelector(function (state) {\n    return state.organizations.organizations;\n  });\n  var organization = useSelector(function (state) {\n    return state.organization.organization;\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      documents = _useState2[0],\n      setDocuments = _useState2[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.account;\n  }),\n      user = _useSelector.user;\n\n  var userID = user.userID; // console.log(userID, user);\n\n  console.log(112, documents); // console.log(\"organizations\", organizations);\n  // console.log(\"organization\", organization);\n\n  var getDocuments = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var phr_server, data, config;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            phr_server = \"http://localhost:3100\";\n            data = {\n              userID: userID\n            };\n            config = {\n              method: \"post\",\n              url: \"\".concat(phr_server, \"/documents\"),\n              data: data\n            };\n            _context2.next = 5;\n            return Axios(config).then( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        console.log(\"get documents\", config);\n\n                        if (isMountedRef.current) {\n                          console.log(response.data.documents);\n                          setDocuments(response.data.documents);\n                        }\n\n                      case 2:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref2.apply(this, arguments);\n              };\n            }()).catch(function (err) {\n              console.log(0, err);\n            });\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [isMountedRef]);\n  var getOrganizations = useCallback(function () {\n    Axios.get(\"http://localhost:3100/organizations\").then(function (response) {\n      if (isMountedRef.current) {\n        // console.log(response.data);\n        response.data.organizations, _readOnlyError(\"organizations\"); // setOrganizations();\n      }\n    });\n  }, [isMountedRef]);\n  useEffect(function () {\n    getDocuments();\n  }, [getDocuments]);\n\n  if (!organizations) {\n    // return <Redirect to=\"/phr\" />;\n    getOrganizations();\n  }\n\n  if (documents.length > 0) {\n    dispatch({\n      type: \"SET_DOCUMENTS\",\n      payload: {\n        documents: documents\n      }\n    });\n  } else {\n    dispatch({\n      type: \"SET_DOCUMENTS\",\n      payload: {}\n    });\n  }\n\n  var documents_4578 = documents.filter(function (result) {\n    return result.organizationID === \"4578\";\n  });\n  var documents_4596 = documents.filter(function (result) {\n    return result.organizationID === \"4596\";\n  });\n  var documents_48651 = documents.filter(function (result) {\n    return result.organizationID === \"48651\";\n  });\n  return /*#__PURE__*/React.createElement(Page, {\n    className: classes.root,\n    title: \"Dashboard Alternative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: false,\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, documents_4578.length > 0 && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 3,\n    sm: 6,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Overview, {\n    id: \"4578\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 8\n    }\n  })), documents_4596.length > 0 && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 3,\n    sm: 6,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Overview, {\n    id: \"4596\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 8\n    }\n  })), documents_48651.length > 0 && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 3,\n    sm: 6,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Overview, {\n    id: \"48651\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 3,\n    sm: 6,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TotalDocuments, {\n    length: documents.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 8,\n    xl: 9,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(DocumentStats, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 4,\n    xl: 3,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(DocumentsSegmentation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Documents, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  })))));\n}\n\nexport default Records;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/index.js"],"names":["React","useCallback","useState","useEffect","useDispatch","useSelector","Redirect","Container","Grid","makeStyles","Page","DocumentsSegmentation","DocumentStats","Header","Documents","Axios","useIsMountedRef","Overview","TotalDocuments","useStyles","theme","root","backgroundColor","palette","background","dark","minHeight","paddingTop","spacing","paddingBottom","container","breakpoints","up","paddingLeft","paddingRight","Records","classes","dispatch","isMountedRef","organizations","state","organization","documents","setDocuments","account","user","userID","console","log","getDocuments","phr_server","data","config","method","url","then","response","current","catch","err","getOrganizations","get","length","type","payload","documents_4578","filter","result","organizationID","documents_4596","documents_48651"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container, Grid, makeStyles } from \"@material-ui/core\";\nimport Page from \"src/components/Page\";\n// import CustomerActivity from \"./CustomerActivity\";\nimport DocumentsSegmentation from \"./DocumentSegmentation\";\nimport DocumentStats from \"./DocumentStats\";\n\nimport Header from \"./Header\";\nimport Documents from \"./Documents\";\n// import LatestOrders from \"./LatestOrders\";\n// import axios from \"src/utils/axios\";\nimport Axios from \"axios\";\nimport useIsMountedRef from \"src/hooks/useIsMountedRef\";\nimport Overview from \"./Overview\";\nimport TotalDocuments from \"./TotalDocuments\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tbackgroundColor: theme.palette.background.dark,\n\t\tminHeight: \"100%\",\n\t\tpaddingTop: theme.spacing(3),\n\t\tpaddingBottom: theme.spacing(3),\n\t},\n\tcontainer: {\n\t\t[theme.breakpoints.up(\"lg\")]: {\n\t\t\tpaddingLeft: 64,\n\t\t\tpaddingRight: 64,\n\t\t},\n\t},\n}));\n\nfunction Records() {\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst isMountedRef = useIsMountedRef();\n\tconst organizations = useSelector((state) => state.organizations.organizations);\n\tconst organization = useSelector((state) => state.organization.organization);\n\tconst [documents, setDocuments] = useState([]);\n\n\tconst { user } = useSelector((state) => state.account);\n\tconst userID = user.userID;\n\t// console.log(userID, user);\n\n\tconsole.log(112, documents);\n\n\t// console.log(\"organizations\", organizations);\n\t// console.log(\"organization\", organization);\n\n\tconst getDocuments = useCallback(async () => {\n\t\tconst phr_server = \"http://localhost:3100\";\n\t\tconst data = {\n\t\t\tuserID: userID,\n\t\t};\n\t\tconst config = {\n\t\t\tmethod: \"post\",\n\t\t\turl: `${phr_server}/documents`,\n\t\t\tdata: data,\n\t\t};\n\n\t\tawait Axios(config)\n\t\t\t.then(async (response) => {\n\t\t\t\tconsole.log(\"get documents\", config);\n\t\t\t\tif (isMountedRef.current) {\n\t\t\t\t\tconsole.log(response.data.documents);\n\t\t\t\t\tsetDocuments(response.data.documents);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(0, err);\n\t\t\t});\n\t}, [isMountedRef]);\n\n\tconst getOrganizations = useCallback(() => {\n\t\tAxios.get(\"http://localhost:3100/organizations\").then((response) => {\n\t\t\tif (isMountedRef.current) {\n\t\t\t\t// console.log(response.data);\n\t\t\t\torganizations = response.data.organizations;\n\t\t\t\t// setOrganizations();\n\t\t\t}\n\t\t});\n\t}, [isMountedRef]);\n\n\tuseEffect(() => {\n\t\tgetDocuments();\n\t}, [getDocuments]);\n\n\tif (!organizations) {\n\t\t// return <Redirect to=\"/phr\" />;\n\t\tgetOrganizations();\n\t}\n\n\tif (documents.length > 0) {\n\t\tdispatch({ type: \"SET_DOCUMENTS\", payload: { documents } });\n\t} else {\n\t\tdispatch({ type: \"SET_DOCUMENTS\", payload: {} });\n\t}\n\n\tconst documents_4578 = documents.filter((result) => result.organizationID === \"4578\");\n\tconst documents_4596 = documents.filter((result) => result.organizationID === \"4596\");\n\tconst documents_48651 = documents.filter((result) => result.organizationID === \"48651\");\n\n\treturn (\n\t\t<Page className={classes.root} title=\"Dashboard Alternative\">\n\t\t\t<Container maxWidth={false} className={classes.container}>\n\t\t\t\t<Header />\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t{documents_4578.length > 0 && (\n\t\t\t\t\t\t<Grid item lg={3} sm={6} xs={12}>\n\t\t\t\t\t\t\t<Overview id=\"4578\" />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t{documents_4596.length > 0 && (\n\t\t\t\t\t\t<Grid item lg={3} sm={6} xs={12}>\n\t\t\t\t\t\t\t<Overview id=\"4596\" />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t{documents_48651.length > 0 && (\n\t\t\t\t\t\t<Grid item lg={3} sm={6} xs={12}>\n\t\t\t\t\t\t\t<Overview id=\"48651\" />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Grid item lg={3} sm={6} xs={12}>\n\t\t\t\t\t\t<TotalDocuments length={documents.length} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item lg={8} xl={9} xs={12}>\n\t\t\t\t\t\t<DocumentStats />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={4} xl={3} xs={12}>\n\t\t\t\t\t\t<DocumentsSegmentation />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{/* <Grid item lg={8} xl={9} xs={12}> */}\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Documents />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{/* <Grid item lg={8} xs={12}>\n\t\t\t\t\t\t<LatestOrders />\n\t\t\t\t\t</Grid> */}\n\t\t\t\t\t{/* <Grid item lg={4} xs={12}>\n\t\t\t\t\t\t<CustomerActivity />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={8} xs={12}>\n\t\t\t\t\t\t<MostProfitableProducts />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item lg={4} xs={12}>\n\t\t\t\t\t\t<TopReferrals />\n\t\t\t\t\t</Grid> */}\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</Page>\n\t);\n}\n\nexport default Records;\n"]},"metadata":{},"sourceType":"module"}