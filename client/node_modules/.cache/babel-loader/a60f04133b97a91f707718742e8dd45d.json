{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/DocumentsView/index.js\";\n\n/* eslint-disable arrow-parens */\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { Box, Container // Divider,\n// Tab,\n// Tabs,\n, makeStyles } from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop'; // import Axios from 'src/utils/axios';\n\nimport axios from 'axios';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport Header from './Header';\nimport Details from './Details'; // import Invoices from './Invoices';\n// import Logs from './Logs';\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.background.dark,\n      minHeight: '100%',\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3)\n    },\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: '#fff'\n    }\n  };\n});\n\nfunction CompositionsView(_ref) {\n  var match = _ref.match;\n  var classes = useStyles();\n  var isMountedRef = useIsMountedRef();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      compositions = _useState4[0],\n      setCompositions = _useState4[1]; // console.log('composition view index', match);\n  // const [currentTab, setCurrentTab] = useState('details');\n  // const tabs = [\n  //   { value: 'details', label: 'Details' },\n  //   { value: 'invoices', label: 'Invoices' },\n  //   { value: 'logs', label: 'Logs' }\n  // ];\n  // const handleTabsChange = (event, value) => {\n  //   setCurrentTab(value);\n  // };\n\n\n  var getCompositions = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // console.log(2, loading);\n              // console.log(match.params.id);\n              url = \"http://localhost:4000/4_0_0/Composition?subject=Patient/\".concat(match.params.id);\n              config = {\n                method: 'get',\n                url: url // headers: {\n                //   Authorization:\n                //     'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjAyMjAxZTA1ZjI1MzgwMDE1Zjk4MDU3IiwiaWF0IjoxNjE0MTQxMjE1LCJleHAiOjE2MTY3MzMyMTUsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjMwMDAiLCJpc3MiOiJzYW1zdW5nIG1lZGljYWwgY2VudGVyIiwic3ViIjoiYWRtaW5Ac21jLmNvbSJ9.1ykOVKtab7g9dUUCg5_tDzR4yYz-TVf3g5Giv4IHJlJXcfF8624yL9KBBnkKoKdsHBtmBO3Eu7BQ4YWSBFHK08NmV3w9Ukub5jSElTuRKggk8_HJeQ4_aqDrHvygwiEDntMiBQujUTKIapWgnz_WfVLJerPe31_xCgco7wAAdtY'\n                // }\n\n              };\n              _context.next = 4;\n              return axios(config).then(function (response) {\n                // console.log(response.data);\n                if (isMountedRef.current) {\n                  setCompositions(response.data);\n                }\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getCompositions() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return getCompositions();\n\n              case 2:\n                // console.log(3, loading);\n                setLoading(false); // console.log(4, loading);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function fetchData() {\n        return _ref3.apply(this, arguments);\n      };\n    }(); // console.log(0, loading);\n\n\n    fetchData();\n  }, []);\n\n  if (!compositions) {\n    return null;\n  } // console.log(loading);\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Page, {\n    className: classes.root,\n    title: \"Customer Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Backdrop, {\n    className: classes.backdrop,\n    open: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    compositions: compositions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Details, {\n    compositions: compositions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default CompositionsView;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/views/phr/Records/DocumentsView/index.js"],"names":["React","useCallback","useState","useEffect","Box","Container","makeStyles","Page","CircularProgress","Backdrop","axios","useIsMountedRef","Header","Details","useStyles","theme","root","backgroundColor","palette","background","dark","minHeight","paddingTop","spacing","paddingBottom","backdrop","zIndex","drawer","color","CompositionsView","match","classes","isMountedRef","loading","setLoading","compositions","setCompositions","getCompositions","url","params","id","config","method","then","response","current","data","catch","error","console","log","fetchData"],"mappings":"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","sourcesContent":["/* eslint-disable arrow-parens */\nimport React, { useCallback, useState, useEffect } from 'react';\nimport {\n  Box,\n  Container,\n  // Divider,\n  // Tab,\n  // Tabs,\n  makeStyles\n} from '@material-ui/core';\nimport Page from 'src/components/Page';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\n// import Axios from 'src/utils/axios';\nimport axios from 'axios';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport Header from './Header';\nimport Details from './Details';\n// import Invoices from './Invoices';\n// import Logs from './Logs';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  }\n}));\n\nfunction CompositionsView({ match }) {\n  const classes = useStyles();\n  const isMountedRef = useIsMountedRef();\n\n  const [loading, setLoading] = useState(true);\n  const [compositions, setCompositions] = useState(null);\n\n  // console.log('composition view index', match);\n  // const [currentTab, setCurrentTab] = useState('details');\n  // const tabs = [\n  //   { value: 'details', label: 'Details' },\n  //   { value: 'invoices', label: 'Invoices' },\n  //   { value: 'logs', label: 'Logs' }\n  // ];\n\n  // const handleTabsChange = (event, value) => {\n  //   setCurrentTab(value);\n  // };\n\n  const getCompositions = async () => {\n    // console.log(2, loading);\n    // console.log(match.params.id);\n    const url = `http://localhost:4000/4_0_0/Composition?subject=Patient/${match.params.id}`;\n    const config = {\n      method: 'get',\n      url\n      // headers: {\n      //   Authorization:\n      //     'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjAyMjAxZTA1ZjI1MzgwMDE1Zjk4MDU3IiwiaWF0IjoxNjE0MTQxMjE1LCJleHAiOjE2MTY3MzMyMTUsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjMwMDAiLCJpc3MiOiJzYW1zdW5nIG1lZGljYWwgY2VudGVyIiwic3ViIjoiYWRtaW5Ac21jLmNvbSJ9.1ykOVKtab7g9dUUCg5_tDzR4yYz-TVf3g5Giv4IHJlJXcfF8624yL9KBBnkKoKdsHBtmBO3Eu7BQ4YWSBFHK08NmV3w9Ukub5jSElTuRKggk8_HJeQ4_aqDrHvygwiEDntMiBQujUTKIapWgnz_WfVLJerPe31_xCgco7wAAdtY'\n      // }\n    };\n\n    await axios(config)\n      .then(response => {\n        // console.log(response.data);\n        if (isMountedRef.current) {\n          setCompositions(response.data);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // console.log(1, loading);\n      await getCompositions();\n      // console.log(3, loading);\n      setLoading(false);\n      // console.log(4, loading);\n    };\n    // console.log(0, loading);\n\n    fetchData();\n  }, []);\n\n  if (!compositions) {\n    return null;\n  }\n  // console.log(loading);\n\n  return (\n    <>\n      {/* <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop> */}\n      <Page className={classes.root} title=\"Customer Details\">\n        <Backdrop className={classes.backdrop} open={loading}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n        <Container maxWidth={false}>\n          <Header compositions={compositions} />\n\n          {/* <Backdrop className={classes.backdrop} open={loading}>\n            <CircularProgress color=\"inherit\" />\n          </Backdrop> */}\n          {/* <Box mt={3}>\n          <Tabs\n            onChange={handleTabsChange}\n            scrollButtons=\"auto\"\n            value={currentTab}\n            variant=\"scrollable\"\n            textColor=\"secondary\"\n            className={classes.tabs}\n          >\n            {tabs.map(tab => (\n              <Tab key={tab.value} label={tab.label} value={tab.value} />\n            ))}\n          </Tabs>\n        </Box>\n        <Divider /> */}\n\n          <Box mt={3}>\n            <Details compositions={compositions} />\n            {/* {currentTab === 'details' && <Details customer={customer} />}\n          {currentTab === 'invoices' && <Invoices />}\n          {currentTab === 'logs' && <Logs />} */}\n          </Box>\n        </Container>\n      </Page>\n    </>\n  );\n}\n\nexport default CompositionsView;\n"]},"metadata":{},"sourceType":"module"}