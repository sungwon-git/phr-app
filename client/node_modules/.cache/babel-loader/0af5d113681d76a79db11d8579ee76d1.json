{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"/Users/sungwonjung/dev/nodejs/phr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/sungwonjung/dev/nodejs/phr/client/src/views/kanban/KanbanView/CardEditModal/index.js\";\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { Box, Dialog, Divider, Grid, Typography, makeStyles, IconButton, SvgIcon } from '@material-ui/core';\nimport { XCircle as CloseIcon, Eye as EyeIcon, EyeOff as EyeOffIcon, ArrowRight as ArrowRightIcon, Archive as ArchiveIcon, CheckSquare as CheckIcon, Copy as CopyIcon, Users as UsersIcon, File as FileIcon, Layout as LayoutIcon } from 'react-feather';\nimport { deleteCard, updateCard, addChecklist } from 'src/actions/kanbanActions';\nimport Details from './Details';\nimport Checklist from './Checklist';\nimport NewComment from './NewComment';\nimport Comment from './Comment';\nimport ActionButton from './ActionButton';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: theme.spacing(3)\n    },\n    listName: {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    checklist: {\n      '& + &': {\n        marginTop: theme.spacing(3)\n      }\n    }\n  };\n});\n\nfunction CardEditModal(_ref) {\n  var _this = this;\n\n  var card = _ref.card,\n      className = _ref.className,\n      list = _ref.list,\n      onClose = _ref.onClose,\n      open = _ref.open,\n      rest = _objectWithoutProperties(_ref, [\"card\", \"className\", \"list\", \"onClose\", \"open\"]);\n\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var handleSubscribe = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return dispatch(updateCard(card.id, {\n                isSubscribed: true\n              }));\n\n            case 3:\n              enqueueSnackbar('Unsubscribed', {\n                variant: 'success'\n              });\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function handleSubscribe() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleUnsubscribe = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return dispatch(updateCard(card.id, {\n                isSubscribed: false\n              }));\n\n            case 3:\n              enqueueSnackbar('Subscribed', {\n                variant: 'success'\n              });\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function handleUnsubscribe() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return dispatch(deleteCard(card.id));\n\n            case 3:\n              enqueueSnackbar('Card archived', {\n                variant: 'success'\n              });\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function handleDelete() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleAddChecklist = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return dispatch(addChecklist(card.id, 'Untitled Checklist'));\n\n            case 3:\n              enqueueSnackbar('Checklist added', {\n                variant: 'success'\n              });\n              _context4.next = 9;\n              break;\n\n            case 6:\n              _context4.prev = 6;\n              _context4.t0 = _context4[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 6]]);\n    }));\n\n    return function handleAddChecklist() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(Dialog, Object.assign({\n    onClose: onClose,\n    open: open,\n    maxWidth: \"md\",\n    fullWidth: true\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"in list\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.listName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, list.name)), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Details, {\n    card: card,\n    list: list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }), card.checklists.length > 0 && /*#__PURE__*/React.createElement(Box, {\n    mt: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, card.checklists.map(function (checklist) {\n    return /*#__PURE__*/React.createElement(Checklist, {\n      key: checklist.id,\n      card: card,\n      checklist: checklist,\n      className: classes.checklist,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Box, {\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \"Activity\"), /*#__PURE__*/React.createElement(Box, {\n    mt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NewComment, {\n    cardId: card.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }), card.comments.length > 0 && /*#__PURE__*/React.createElement(Box, {\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, card.comments.map(function (comment) {\n    return /*#__PURE__*/React.createElement(Comment, {\n      key: comment.id,\n      comment: comment,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }\n    });\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, \"Add to card\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: CheckIcon,\n    onClick: handleAddChecklist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, \"Checklist\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: UsersIcon,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, \"Members\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: UsersIcon,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, \"Labels\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: FileIcon,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, \"Attachments\"), /*#__PURE__*/React.createElement(Box, {\n    mt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, \"Actions\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: ArrowRightIcon,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }, \"Move\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: CopyIcon,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, \"Copy\"), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: LayoutIcon,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }, \"Make Template\"), card.isSubscribed ? /*#__PURE__*/React.createElement(ActionButton, {\n    icon: EyeOffIcon,\n    onClick: handleUnsubscribe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, \"Unwatch\") : /*#__PURE__*/React.createElement(ActionButton, {\n    icon: EyeIcon,\n    onClick: handleSubscribe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, \"Watch\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ActionButton, {\n    icon: ArchiveIcon,\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  }, \"Archive\"))))));\n}\n\nCardEditModal.propTypes = {\n  card: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  list: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\nCardEditModal.defaultProps = {\n  open: false,\n  onClose: function onClose() {}\n};\nexport default CardEditModal;","map":{"version":3,"sources":["/Users/sungwonjung/dev/nodejs/phr/client/src/views/kanban/KanbanView/CardEditModal/index.js"],"names":["React","useDispatch","PropTypes","useSnackbar","Box","Dialog","Divider","Grid","Typography","makeStyles","IconButton","SvgIcon","XCircle","CloseIcon","Eye","EyeIcon","EyeOff","EyeOffIcon","ArrowRight","ArrowRightIcon","Archive","ArchiveIcon","CheckSquare","CheckIcon","Copy","CopyIcon","Users","UsersIcon","File","FileIcon","Layout","LayoutIcon","deleteCard","updateCard","addChecklist","Details","Checklist","NewComment","Comment","ActionButton","useStyles","theme","root","padding","spacing","listName","fontWeight","typography","fontWeightMedium","checklist","marginTop","CardEditModal","card","className","list","onClose","open","rest","classes","dispatch","enqueueSnackbar","handleSubscribe","id","isSubscribed","variant","handleUnsubscribe","handleDelete","handleAddChecklist","name","checklists","length","map","comments","comment","propTypes","object","isRequired","string","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Dialog,\n  Divider,\n  Grid,\n  Typography,\n  makeStyles,\n  IconButton,\n  SvgIcon\n} from '@material-ui/core';\nimport {\n  XCircle as CloseIcon,\n  Eye as EyeIcon,\n  EyeOff as EyeOffIcon,\n  ArrowRight as ArrowRightIcon,\n  Archive as ArchiveIcon,\n  CheckSquare as CheckIcon,\n  Copy as CopyIcon,\n  Users as UsersIcon,\n  File as FileIcon,\n  Layout as LayoutIcon\n} from 'react-feather';\nimport {\n  deleteCard,\n  updateCard,\n  addChecklist\n} from 'src/actions/kanbanActions';\nimport Details from './Details';\nimport Checklist from './Checklist';\nimport NewComment from './NewComment';\nimport Comment from './Comment';\nimport ActionButton from './ActionButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  listName: {\n    fontWeight: theme.typography.fontWeightMedium\n  },\n  checklist: {\n    '& + &': {\n      marginTop: theme.spacing(3)\n    }\n  }\n}));\n\nfunction CardEditModal({\n  card,\n  className,\n  list,\n  onClose,\n  open,\n  ...rest\n}) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleSubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, { isSubscribed: true }));\n      enqueueSnackbar('Unsubscribed', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleUnsubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, { isSubscribed: false }));\n      enqueueSnackbar('Subscribed', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteCard(card.id));\n      enqueueSnackbar('Card archived', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleAddChecklist = async () => {\n    try {\n      await dispatch(addChecklist(card.id, 'Untitled Checklist'));\n      enqueueSnackbar('Checklist added', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <Dialog\n      onClose={onClose}\n      open={open}\n      maxWidth=\"md\"\n      fullWidth\n      {...rest}\n    >\n      <div className={classes.root}>\n        <Box\n          display=\"flex\"\n          justifyContent=\"space-between\"\n        >\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n          >\n            in list\n            {' '}\n            <span className={classes.listName}>\n              {list.name}\n            </span>\n          </Typography>\n          <IconButton onClick={onClose}>\n            <SvgIcon>\n              <CloseIcon />\n            </SvgIcon>\n          </IconButton>\n        </Box>\n        <Grid\n          container\n          spacing={5}\n        >\n          <Grid\n            item\n            xs={12}\n            sm={8}\n          >\n            <Details\n              card={card}\n              list={list}\n            />\n            {card.checklists.length > 0 && (\n              <Box mt={5}>\n                {card.checklists.map((checklist) => (\n                  <Checklist\n                    key={checklist.id}\n                    card={card}\n                    checklist={checklist}\n                    className={classes.checklist}\n                  />\n                ))}\n              </Box>\n            )}\n            <Box mt={3}>\n              <Typography\n                variant=\"h4\"\n                color=\"textPrimary\"\n              >\n                Activity\n              </Typography>\n              <Box mt={2}>\n                <NewComment cardId={card.id} />\n                {card.comments.length > 0 && (\n                  <Box mt={3}>\n                    {card.comments.map((comment) => (\n                      <Comment\n                        key={comment.id}\n                        comment={comment}\n                      />\n                    ))}\n                  </Box>\n                )}\n              </Box>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            sm={4}\n          >\n            <Typography\n              variant=\"overline\"\n              color=\"textSecondary\"\n            >\n              Add to card\n            </Typography>\n            <ActionButton\n              icon={CheckIcon}\n              onClick={handleAddChecklist}\n            >\n              Checklist\n            </ActionButton>\n            <ActionButton\n              icon={UsersIcon}\n              disabled\n            >\n              Members\n            </ActionButton>\n            <ActionButton\n              icon={UsersIcon}\n              disabled\n            >\n              Labels\n            </ActionButton>\n            <ActionButton\n              icon={FileIcon}\n              disabled\n            >\n              Attachments\n            </ActionButton>\n            <Box mt={3}>\n              <Typography\n                variant=\"overline\"\n                color=\"textSecondary\"\n              >\n                Actions\n              </Typography>\n              <ActionButton\n                icon={ArrowRightIcon}\n                disabled\n              >\n                Move\n              </ActionButton>\n              <ActionButton\n                icon={CopyIcon}\n                disabled\n              >\n                Copy\n              </ActionButton>\n              <ActionButton\n                icon={LayoutIcon}\n                disabled\n              >\n                Make Template\n              </ActionButton>\n              {card.isSubscribed ? (\n                <ActionButton\n                  icon={EyeOffIcon}\n                  onClick={handleUnsubscribe}\n                >\n                  Unwatch\n                </ActionButton>\n              ) : (\n                <ActionButton\n                  icon={EyeIcon}\n                  onClick={handleSubscribe}\n                >\n                  Watch\n                </ActionButton>\n              )}\n              <Divider />\n              <ActionButton\n                icon={ArchiveIcon}\n                onClick={handleDelete}\n              >\n                Archive\n              </ActionButton>\n            </Box>\n          </Grid>\n        </Grid>\n      </div>\n    </Dialog>\n  );\n}\n\nCardEditModal.propTypes = {\n  card: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  list: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\n\nCardEditModal.defaultProps = {\n  open: false,\n  onClose: () => {}\n};\n\nexport default CardEditModal;\n"]},"metadata":{},"sourceType":"module"}